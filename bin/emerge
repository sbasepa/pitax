#!/usr/bin/env python3
import sys
from portage import core

def main():
    if len(sys.argv) < 2:
        print("Usage: mini-emerge [install|remove|list] <package>")
        sys.exit(1)

    command = sys.argv[1]
    package = sys.argv[2] if len(sys.argv) > 2 else None

    if command == "install" and package:
        core.install_package(package)
    elif command == "remove" and package:
        core.remove_package(package)
    elif command == "list":
        core.list_packages()
    else:
        print("Invalid command or missing package name.")

if __name__ == "__main__":
    main()
